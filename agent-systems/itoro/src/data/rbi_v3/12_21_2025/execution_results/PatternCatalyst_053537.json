{
  "success": true,
  "return_code": 0,
  "stdout": "[INFO] Loading data...\n[DEBUG] Using 'timestamp' column for index\n[INFO] Data loaded: 92 rows, 6 columns\n[DEBUG] Data columns: ['timestamp', 'Open', 'High', 'Low', 'Close', 'Volume']\n[DEBUG] Data range: 2025-09-19 00:00:00 to 2025-12-18 20:00:00\n[DEBUG] Sample data (first 3 rows):\n                      timestamp       Open  ...      Close       Volume\ntimestamp                                   ...                        \n2025-09-19  2025-09-19 00:00:00  117075.10  ...  115100.00   990.045242\n2025-09-20  2025-09-20 00:00:00  115632.39  ...  115685.63  4674.927520\n2025-09-21  2025-09-21 00:00:00  115685.63  ...  115232.29  4511.522190\n\n[3 rows x 6 columns]\n[DEBUG] Checking data structure...\n[DEBUG] Index type: <class 'pandas.core.indexes.datetimes.DatetimeIndex'>\n[DEBUG] Required columns present: True, True, True, True, True\n[INFO] Starting backtest...\n[STRATEGY] PatternCatalyst initialized\n[DEBUG] Bar 1, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 2, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 3, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 4, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 5, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=80\n[DEBUG] No pattern signal (got 80, need 100)\n[DEBUG] Bar 6, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-100\n[DEBUG] No pattern signal (got -100, need 100)\n[DEBUG] Bar 7, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 8, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 9, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=80\n[DEBUG] No pattern signal (got 80, need 100)\n[DEBUG] Bar 10, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 11, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 12, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 13, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 14, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 15, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 16, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 17, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 18, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 19, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 20, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 21, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 22, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 23, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=80\n[DEBUG] No pattern signal (got 80, need 100)\n[DEBUG] Bar 24, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 25, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 26, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 27, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 28, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 29, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 30, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 31, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 32, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 33, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 34, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 35, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 36, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 37, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 38, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 39, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 40, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 41, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 42, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 43, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 44, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 45, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-100\n[DEBUG] No pattern signal (got -100, need 100)\n[DEBUG] Bar 46, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 47, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 48, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 49, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 50, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 51, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 52, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 53, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 54, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 55, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 56, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 57, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 58, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 59, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 60, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 61, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=-80\n[DEBUG] No pattern signal (got -80, need 100)\n[DEBUG] Bar 62, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 63, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 64, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 65, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=80\n[DEBUG] No pattern signal (got 80, need 100)\n[DEBUG] Bar 66, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 67, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=0\n[DEBUG] No pattern signal (got 0, need 100)\n[DEBUG] Bar 68, Equity: $1000000.00, Position: 0\n[DEBUG] Pattern check: engulfing=100\n[ENTRY SIGNAL] engulfing pattern detected at bar 68\n[DEBUG] Position size calc: price=90420.00, stop_loss=64379.04\n[DEBUG] Risk amount: $20000.00 (2.0% of equity)\n[DEBUG] Stop distance: 26040.96\n[DEBUG] Desired units: 1, Max units: 1\n[DEBUG] Final units: 1, Position value: $90420.00, Position %: 9.04%\n[TRADE EXECUTING] Buying 1 units at $90420.00\n[TRADE EXECUTED] Trade #1 opened\n[DEBUG] Bar 69, Equity: $1000708.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=91310.00\n[DEBUG] Current profit: 0.98%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 70, Equity: $1000240.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90842.00\n[DEBUG] Current profit: 0.47%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 71, Equity: $1000166.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90768.00\n[DEBUG] Current profit: 0.38%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 72, Equity: $999724.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90326.00\n[DEBUG] Current profit: -0.11%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 73, Equity: $995614.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=86216.00\n[DEBUG] Current profit: -4.65%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 74, Equity: $1000635.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=91237.00\n[DEBUG] Current profit: 0.90%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 75, Equity: $1002793.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=93395.00\n[DEBUG] Current profit: 3.29%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 76, Equity: $1001432.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=92034.00\n[DEBUG] Current profit: 1.78%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 77, Equity: $998692.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=89294.00\n[DEBUG] Current profit: -1.25%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 78, Equity: $998579.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=89181.00\n[DEBUG] Current profit: -1.37%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 79, Equity: $999742.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90344.00\n[DEBUG] Current profit: -0.09%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 80, Equity: $999992.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90594.00\n[DEBUG] Current profit: 0.19%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 81, Equity: $1002052.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=92654.00\n[DEBUG] Current profit: 2.47%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 82, Equity: $1001359.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=91961.00\n[DEBUG] Current profit: 1.70%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 83, Equity: $1001879.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=92481.00\n[DEBUG] Current profit: 2.28%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 84, Equity: $999626.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90228.00\n[DEBUG] Current profit: -0.21%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 85, Equity: $999620.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=90222.00\n[DEBUG] Current profit: -0.22%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 86, Equity: $997526.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=88128.00\n[DEBUG] Current profit: -2.54%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 87, Equity: $995825.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=86427.00\n[DEBUG] Current profit: -4.42%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 88, Equity: $997212.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=87814.00\n[DEBUG] Current profit: -2.88%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 89, Equity: $995608.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=86210.00\n[DEBUG] Current profit: -4.66%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 90, Equity: $994875.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=85477.00\n[DEBUG] Current profit: -5.47%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\n[DEBUG] Bar 91, Equity: $997490.16, Position: 1\n[DEBUG] Position active: size=1, entry_price=90421.00, current_price=88092.00\n[DEBUG] Current profit: -2.58%\n[DEBUG] Initial stop loss: 64379.75 (28.8% below entry)\n[DEBUG] Skipping entry - position already open\nStart                     2025-09-19 00:00:00\nEnd                       2025-12-18 20:00:00\nDuration                     90 days 20:00:00\nExposure Time [%]                         0.0\nEquity Final [$]                   997490.158\nEquity Peak [$]                   1002793.158\nReturn [%]                           -0.25098\nBuy & Hold Return [%]               -23.46481\nReturn (Ann.) [%]                     -1.0029\nVolatility (Ann.) [%]                 1.88006\nCAGR [%]                             -1.00473\nSharpe Ratio                         -0.53344\nSortino Ratio                         -0.7628\nCalmar Ratio                         -1.27014\nAlpha [%]                             0.24588\nBeta                                  0.02117\nMax. Drawdown [%]                    -0.78959\nAvg. Drawdown [%]                    -0.64932\nMax. Drawdown Duration       16 days 00:00:00\nAvg. Drawdown Duration       11 days 00:00:00\n# Trades                                    0\nWin Rate [%]                              NaN\nBest Trade [%]                            NaN\nWorst Trade [%]                           NaN\nAvg. Trade [%]                            NaN\nMax. Trade Duration                       NaN\nAvg. Trade Duration                       NaN\nProfit Factor                             NaN\nExpectancy [%]                            NaN\nSQN                                       NaN\nKelly Criterion                           NaN\n_strategy                     PatternCatalyst\n_equity_curve                             ...\n_trades                   Empty DataFrame\n...\ndtype: object\nPatternCatalyst\n",
  "stderr": "\nBacktest.run:   0%|          | 0/91 [00:00<?, ?bar/s]\n                                                     \nC:\\Users\\Top Cash Pawn\\ITORO\\agent-systems\\itoro\\src\\data\\rbi_v3\\12_21_2025\\backtests_final\\PatternCatalyst_BTFinal_v3.py:218: UserWarning: Some trades remain open at the end of backtest. Use `Backtest(..., finalize_trades=True)` to close them and include them in stats.\n  stats = bt.run()\n",
  "execution_time": 5.058663,
  "timestamp": "2025-12-21T05:35:37.639344"
}