# PatternRecognition Strategy - Multi-Pattern Approach with Exit Conditions (CDLDOJI, CDLENGULFING, CDLHAMMER)
# Timeframe: 1d, ROI: 93.6% (scales to 0% over 48152 candles), Stop Loss: -28.8%
# Trailing Stop: Enabled (3.2% positive, 8.4% offset)
Implement a Pattern Recognition strategy using TA-Lib candlestick patterns. For entry, use multiple bullish reversal patterns: CDLDOJI == 100 (bullish doji), CDLENGULFING == 100 (bullish engulfing), CDLHAMMER == 100 (hammer pattern). Calculate all TA-Lib pattern recognition indicators in populate_indicators using self.I() wrapper. IMPORTANT: Pattern recognition functions require Open, High, Low, Close arrays. Pattern functions return integer values: -100 (bearish), 0 (no pattern), 100 (bullish). Buy when any of the selected patterns equals 100, indicating bullish reversal signals. For exit conditions: Close long positions when profit reaches 5% above entry price OR when loss reaches 3% below entry price. In populate_exit_trend, check if current position profit/loss meets exit criteria. Use self.position.pl_pct to check profit/loss percentage. Exit long when (self.position.pl_pct >= 0.05) for 5% profit target OR (self.position.pl_pct <= -0.03) for 3% stop loss. Also rely on ROI targets and trailing stop loss as secondary exits. Use ROI table: 93.6% at entry, scaling to 33.2% after 5271 candles, 8.6% after 18147 candles, and 0% after 48152 candles. Set stop loss at -28.8%. Enable trailing stop with 3.2% positive threshold and 8.4% offset. Position sizing: Use 2% of equity (0.02 as fraction). This multi-pattern approach should generate more signals than single rare patterns like CDLHIGHWAVE. IMPORTANT: This strategy requires minimum 30 days of daily (1d) timeframe data.
