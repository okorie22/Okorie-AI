# === PROVEN INDICATOR-BASED STRATEGIES FROM FREQTRADE ===
# These strategies have been backtested and show high returns/win rates
# Source: https://github.com/freqtrade/freqtrade-strategies

# UniversalMACD Strategy - 92.9% total profit, 100% win rate (31 wins / 9 draws / 0 losses)
# Timeframe: 5m, ROI: 21.3% (scales to 0% over 164 candles), Stop Loss: -31.8%
# FIX: Added minimum holding period, fractional position sizing, and adaptive MACD range
Create a Universal MACD strategy that calculates EMA(12) and EMA(26), then computes Universal MACD as (EMA12 / EMA26) - 1. IMPORTANT: Use fractional position sizing (allow decimal position sizes, do NOT round to integer). Calculate position size as: position_size = (equity * risk_per_trade) / stop_distance, where risk_per_trade = 0.02 (2% risk). Use this fractional value directly in self.buy(size=position_size) - backtesting.py supports fractional sizes. For MACD entry range, make it adaptive: Calculate the 20-period rolling mean and standard deviation of Universal MACD. Entry range should be: [mean - 1.5*std, mean - 0.5*std] to adapt to current market conditions. Buy when Universal MACD is within this adaptive range (indicating bullish momentum building). Track the number of candles since entry. Only check MACD exit condition after holding position for at least 5 candles to prevent premature exits. Sell when Universal MACD is between -0.02323 and -0.00707 (indicating momentum weakening), but ONLY if position has been held for at least 5 candles. Always check ROI targets and stop loss regardless of holding period. Add debug print statements showing: entry MACD value, exit MACD value, candles held, exit reason, adaptive entry range values (mean, std, range_min, range_max), and position size. Use ROI table: 21.3% at entry, scaling down to 9.9% after 27 candles, 3% after 60 candles, and 0% after 164 candles. Set stop loss at -31.8%. This strategy achieved 92.9% total profit with 100% win rate in backtesting.

# MultiMa Strategy - 73.3% total profit, 4h swing trading
# Timeframe: 4h, ROI: 52.3% (scales down), Stop Loss: -34.5%
# FIX: Added debug statements to diagnose why entry conditions never trigger
Implement a Multi Moving Average strategy using TEMA (Triple Exponential Moving Average) with multiple periods. For entry, calculate 4 TEMA indicators with gap of 15 periods between each (e.g., TEMA(15), TEMA(30), TEMA(45), TEMA(60)). Buy when all TEMA values satisfy: TEMA(30) < TEMA(15) AND TEMA(45) < TEMA(30) AND TEMA(60) < TEMA(45), which means shorter period TEMAs are above longer period TEMAs (descending order indicating uptrend). IMPORTANT: Add debug print statements every 10 bars showing: current bar number, current price, all 4 TEMA values (TEMA15, TEMA30, TEMA45, TEMA60), and whether each condition is satisfied (TEMA30 < TEMA15: True/False, TEMA45 < TEMA30: True/False, TEMA60 < TEMA45: True/False). This will help diagnose why entry conditions may not be triggering. For exit, calculate 12 TEMA indicators with gap of 68 periods (TEMA(68), TEMA(136), TEMA(204), etc.). Sell when ANY TEMA crosses above its previous TEMA (trend reversal signal). Use ROI table: 52.3% at entry, scaling to 12.3% after 1553 candles, 7.6% after 2332 candles, and 0% after 3169 candles. Set stop loss at -34.5%. This is a swing trading strategy designed for 4h timeframe.

# PowerTower Strategy - 81.5% total profit, 97% win rate (32 wins / 34 draws / 1 loss)
# Timeframe: 5m, ROI: 21.3% (scales down), Stop Loss: -28.8%
# FIX: Corrected power calculation - original formula doesn't work for large crypto prices like BTC
Build a Power Tower pattern recognition strategy that detects strongly rising price patterns. IMPORTANT: The original formula (close > close.shift(2) ** 3.849) doesn't work for large prices like BTC. Use percentage-based calculation instead. For entry, check if (current close / close 2 periods ago) > (1.01 ** 3.849) AND (previous close / close 3 periods ago) > (1.01 ** 3.849) AND (close 2 periods ago / close 4 periods ago) > (1.01 ** 3.849). This uses percentage changes (price ratios) raised to power, which works for any price level. Add debug print statements showing: current close, previous closes, calculated ratios, power results, and whether each condition is True/False. For exit, sell when (current close / close 2 periods ago) < (1.01 ** 3.798) OR (previous close / close 3 periods ago) < (1.01 ** 3.798) OR (close 2 periods ago / close 4 periods ago) < (1.01 ** 3.798). Use ROI table: 21.3% at entry, scaling to 4.8% after 39 candles, 2.9% after 56 candles, and 0% after 159 candles. Set stop loss at -28.8%. This strategy achieved 81.5% total profit with 97% win rate in backtesting.